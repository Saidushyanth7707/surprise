<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For My Laddu ‚ù§Ô∏è</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap');
    :root {
      --pink: #ff4d85;
      --soft: #fff0f6;
      --bg1: #ffd1e6;
      --bg2: #ffe9f2;
      --card: #ffffff;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Poppins', system-ui, sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px 16px 60px;
      overflow-x: hidden;
      color: #333;
    }
    h1 { color: var(--pink); margin: 0; font-size: clamp(22px, 6vw, 28px); text-align: center; }
    p.lead { color: #7a3a54; text-align: center; margin: 8px 0 16px; }
    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
      width: 100%;
      max-width: 500px;
      position: relative;
      text-align: center;
    }
    .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
    .card-tile { perspective: 900px; height: 70px; border-radius: 10px; cursor: pointer; }
    .card-inner { width: 100%; height: 100%; border-radius: 10px; position: relative; transform-style: preserve-3d; transition: transform 0.5s; }
    .card-tile.flipped .card-inner { transform: rotateY(180deg); }
    .tile-face { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; font-size: 26px; border-radius: 10px; backface-visibility: hidden; }
    .front { background: linear-gradient(180deg, #ffd6e8, #ffd9f1); color: var(--pink); font-weight: 700; }
    .back { background: linear-gradient(180deg, #fff, #ffe8f5); transform: rotateY(180deg); }

    .btn {
      background: var(--pink);
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 700;
      margin: 6px;
      font-size: 15px;
      transition: 0.2s;
    }
    .btn.ghost { background: transparent; color: var(--pink); border: 2px solid rgba(255,77,133,0.25); }
    .popup {
      position: fixed;
      inset: 0;
      background: rgba(255, 192, 203, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      visibility: hidden;
      opacity: 0;
      transition: opacity .35s;
      z-index: 9999;
      padding: 20px;
    }
    .popup.show { visibility: visible; opacity: 1; }
    .popup-content {
      background: linear-gradient(180deg, #fff8fb, #fff0f6);
      border-radius: 20px;
      padding: 24px 20px;
      text-align: center;
      box-shadow: 0 15px 40px rgba(163,42,90,0.2);
      width: 100%;
      max-width: 400px;
    }
    .popup h2 { color: var(--pink); font-size: clamp(20px, 6vw, 28px); }
    .popup p { color: #6a3346; font-size: clamp(14px, 4vw, 16px); }
    .butter {
      position: fixed;
      pointer-events: none;
      font-size: 20px;
      animation: floatY linear forwards;
      z-index: 10000;
    }
    @keyframes floatY {
      0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <h1>üíû For My Sweet Laddu üíû</h1>
  <p class="lead">Solve this tiny memory puzzle for a surprise üíò</p>

  <div class="card">
    <div class="puzzle-title" id="puzzleTitle">Memory Match üíû</div>
    <div id="puzzleRoot"></div>
    <div style="margin-top:12px;">
      <button id="newPuzzleBtn" class="btn ghost">New Puzzle</button>
      <button id="shareBtn" class="btn">Share on WhatsApp</button>
    </div>
  </div>

  <div class="popup" id="lovePopup">
    <div class="popup-content">
      <div style="font-size:48px">üíñ</div>
      <h2 id="loveText">I love you, Laddu! üíï</h2>
      <button class="btn" id="againBtn">Play again</button>
      <button class="btn ghost" id="closeBtn">Close</button>
    </div>
  </div>

  <audio id="soulful" src="soulful.mp3" preload="auto"></audio>

  <script>
    const qs = s => document.querySelector(s);
    const shuffle = a => { for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]} return a; };

    const puzzleRoot = qs('#puzzleRoot');
    const popup = qs('#lovePopup');
    const soulful = qs('#soulful');
    const loveText = qs('#loveText');

    const messages = [
      "Miss you, Laddu üíï",
      "Love you, Laddu üíñ",
      "Kiss me, Laddu üòò",
      "Hug me, Laddu ü§ó",
      "You‚Äôre my world, Laddu üå∏",
      "My cutest Laddu ever üíû",
      "Lets go out Laddu üíû",
    ];

    function renderMemory(){
      puzzleRoot.innerHTML = '';
      const symbols = ['üíñ','ü¶ã','üç∞','üå∏','üêª','üíê'];
      const deck = shuffle([...symbols, ...symbols]);
      const grid = document.createElement('div');
      grid.className='grid';
      let first=null, second=null, lock=false, matches=0;
      deck.forEach(sym=>{
        const tile=document.createElement('div');
        tile.className='card-tile';
        tile.innerHTML=`<div class="card-inner">
          <div class="tile-face front">?</div>
          <div class="tile-face back">${sym}</div>
        </div>`;
        tile.dataset.sym=sym;
        tile.onclick=()=>{
          if(lock || tile.classList.contains('matched') || tile===first) return;
          tile.classList.add('flipped');
          if(!first){ first=tile; return; }
          second=tile; lock=true;
          if(first.dataset.sym===second.dataset.sym){
            first.classList.add('matched');
            second.classList.add('matched');
            first=second=null; lock=false; matches++;
            if(matches===symbols.length) completeSweet();
          } else {
            setTimeout(()=>{ first.classList.remove('flipped'); second.classList.remove('flipped'); first=second=null; lock=false; },600);
          }
        };
        grid.appendChild(tile);
      });
      puzzleRoot.appendChild(grid);
    }

    function completeSweet(){
      loveText.textContent = messages[Math.floor(Math.random()*messages.length)];
      popup.classList.add('show');
      spawnHearts(25);
      if(soulful){ soulful.currentTime=0; soulful.play().catch(()=>{}); }
    }

    function spawnHearts(n){
      for(let i=0;i<n;i++){
        const h=document.createElement('div');
        h.className='butter';
        h.textContent=['üíó','üíñ','üíû'][Math.floor(Math.random()*3)];
        h.style.left=Math.random()*100+'vw';
        h.style.fontSize=(10+Math.random()*30)+'px';
        h.style.animationDuration=(4+Math.random()*5)+'s';
        document.body.appendChild(h);
        setTimeout(()=>h.remove(),9000);
      }
    }

    qs('#newPuzzleBtn').onclick=()=>renderMemory();
    qs('#againBtn').onclick=()=>{ popup.classList.remove('show'); setTimeout(renderMemory,400); };
    qs('#closeBtn').onclick=()=>popup.classList.remove('show');
    qs('#shareBtn').onclick=()=>{
      const url=location.href;
      window.open(`https://wa.me/?text=${encodeURIComponent('Hey Laddu üíï open this surprise: '+url)}`,'_blank');
    };

    renderMemory();
  </script>
</body>
</html>
